{% extends 'base.html' %}
{% load i18n %}

{% block content %}
<h1 class="my-4">{% trans 'Task view' %}</h1>

<div class="card">
    <div class="card-header bg-secondary text-white">
        <h2>{{ task.name }}</h2>
    </div>
    <div class="card-body">
        <p><strong>{% trans 'Description' %}:</strong> {{ task.description|linebreaks }}</p>
        <hr>
        <div class="row">
            <div class="col">
                <p><strong>{% trans 'Author' %}:</strong> {{ task.author.get_full_name }}</p>
                <p><strong>{% trans 'Executor' %}:</strong> {% if task.executor %}{{ task.executor.get_full_name }}{% else %}<span class="text-muted">{% trans 'Not assigned' %}</span>{% endif %}</p>
            </div>
            <div class="col">
                <p><strong>{% trans 'Status' %}:</strong> {{ task.status.name }}</p>
                <p><strong>{% trans 'Labels' %}:</strong> 
                    {% for label in task.labels.all %}
                        <span class="badge bg-secondary">{{ label.name }}</span>
                    {% empty %}
                        <span class="text-muted">{% trans 'No labels' %}</span>
                    {% endfor %}
                </p>
                <p><strong>{% trans 'Created at' %}:</strong> {{ task.created_at|date:"d.m.Y H:i" }}</p>
            </div>
        </div>    


        <div class="mt-3">
            <a href="{% url 'tasks:task_update' task.pk %}" class="btn btn-primary">{% trans 'Update' %}</a>
            <a href="{% url 'tasks:task_delete' task.pk %}" class="btn btn-danger">{% trans 'Delete' %}</a>
            <a href="{% url 'tasks:tasks' %}" class="btn btn-outline-secondary">{% trans 'Back to tasks list' %}</a>
        </div>
    </div>
</div>
{% endblock %}